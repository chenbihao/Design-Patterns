# 桥接模式（Bridge）

## 介绍

### 将抽象和实现解耦，让它们可以独立变化。

在 GoF 的《设计模式》中，桥接模式是这样定义的：“将抽象和实现解耦，让它们可以独立变化。”

**抽象部分**（也被称为接口）是一些实体的高阶控制层，该层自身不完成任何具体的工作，它需要将工作委派给**实现部分层**（也被称为平台）。

这里的抽象和实现是广义上的，而非特指抽象类、实现类。

例子：JDBC 驱动

- JDBC API 对应 **抽象**
- 数据库的 Driver 对应 **实现**

### 多维度通过组合使可以独立扩展

很多书籍资料中还有另外一种理解方式： “一个类存在两个（或多个）独立变化的维度，通过组合的方式，让这些维度可以独立进行扩展。”

例子：

> slf4j其中有三个核心概念，logger，appender 和 encoder。
>
> 分别指这个日志记录器负责哪个类的日志，日志打印到哪里以及日志打印的格式。
>
> 三个纬度上可以有不同的实现，使用者可以在每一纬度上定义多个实现。


## 适用场景

- 运行时切换不同实现方法
- 从几个独立维度上扩展一个类
- 拆分或重组一个具有多重功能的庞杂类
- ...

## 优缺点

优点：

- 可以创建与平台无关的类和程序。
- 客户端代码仅与高层抽象部分进行互动，不会接触到实现平台。
- 开闭原则：可以独立新增抽象或实现部分。
- 单一职责：抽象专注于高层逻辑处理，实现专注于实现细节。

缺点：

- 对高内聚的类使用该模式可能会让代码更加复杂。

## 与其他模式的关系

- 可以将抽象工厂模式和桥接搭配使用。
- 可以结合使用生成器模式和桥接模式：主管类负责抽象工作，各种不同的生成器负责实现工作。


## 实现方式

- 明确类中独立的维度。独立的概念可能是：抽象/平台，域/基础设施，前端/后端或接口/实现。
- 了解客户端的业务需求，并在抽象基类中定义它们。
- 确定在所有平台上都可执行的业务。并在通用实现接口中声明抽象部分所需的业务。
- 为你域内的所有平台创建实现类，但需确保它们遵循实现部分的接口。
- 在抽象类中添加指向实现类型的引用成员变量。抽象部分会将大部分工作委派给该成员变量所指向的实现对象。
- 如果你的高层逻辑有多个变体，则可通过扩展抽象基类为每个变体创建一个精确抽象。
- 客户端代码必须将实现对象传递给抽象部分的构造函数才能使其能够相互关联。此后，客户端只需与抽象对象进行交互，无需和实现对象打交道。


--- 

## 示例

```java
public class asd {

}
```

测试代码

```java
public class test {
    
}
```

--- 

## 实例

### JDK

#### 123123123类

java.lang.123231123#123


```java
public class asd {

}
```


